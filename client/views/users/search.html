<template name="usersSearch">
  <div class="top-bar">
    <input id="search-bar" class="search-bar" type="search" placeholder="Search for skills, work experience, role, or interests..." value="{{ searchQuery }}"/>
    {{#if suggestedKeywords}}
      <div class="suggestions">
        {{#each suggestedKeywords}}
          <button class="suggestion" data-rawContent="{{ content }}">{{ formatKeyword content }}</button>
        {{/each}}
      </div>
    {{/if}}
  </div>

  {{#if isSearching}}
    <div class="search-results">
      {{#if searchResults}}
        <div class="search-results-container">
          {{#each searchResults}}
            <a class="user-list-item" href="{{ pathFor route='usersShow'}}">
              <div class="profile-image" style="{{ profileBackgroundImage this }}"></div>
              <div class="item-details">
                <p class="lead">{{ firstName }}</p>
                <p class="sublead">{{ headline }}</p>
              </div>
              <div class="profile-meta">
                <p class="meta">{{ distanceAwayInKm distance }}</p>
              </div>
            </a>
          {{/each}}
        </div>
      {{else}}
        {{#if isSearchLoading}}
          <div>
            {{> spinner}}
          </div>
        {{else}}
          <p>No results were found for "{{ searchQuery }}".</p>
          <p><i>Tip: Clicking one of the suggested keyword will guarentee a result.</i></p>
        {{/if}}
      {{/if}}
    </div>
  {{/if}}
</template>
